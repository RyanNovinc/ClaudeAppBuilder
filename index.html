<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SleepTech - Build Apps with Claude AI</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Netlify Identity Widget -->
    <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">SleepTech</div>
            <nav>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#curriculum">Curriculum</a></li>
                    <li><a href="#pricing">Pricing</a></li>
                </ul>
            </nav>
            <button class="cta-button small" id="loginButton" onclick="handleLogin()">Log in</button>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Build Sleep Technology Apps with Claude AI</h1>
            <p class="subtitle">Learn to leverage AI assistance to create beautiful, functional sleep apps without extensive coding knowledge</p>
            <button class="cta-button large" onclick="window.location.href='checkout.html'">Get Started Today</button>
        </div>
    </section>

    <section class="overview" id="overview">
        <div class="container">
            <h2>What You'll Learn</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">üõ†Ô∏è</div>
                    <h3>Setup Your Environment</h3>
                    <p>Learn to configure tools needed for sleep technology app development with Claude AI guidance</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üé®</div>
                    <h3>Professional UI Design</h3>
                    <p>Create beautiful, responsive user interfaces with AI-assisted design for sleep tracking and improvement</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üì±</div>
                    <h3>Screen-by-Screen Development</h3>
                    <p>Master the efficient approach to building complex sleep apps incrementally</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üöÄ</div>
                    <h3>App Store Submission</h3>
                    <p>Navigate the process of publishing your sleep technology app to major app stores</p>
                </div>
            </div>
        </div>
    </section>

    <section class="curriculum" id="curriculum">
        <div class="container">
            <h2>Course Curriculum</h2>
            <div class="modules">
                <div class="module">
                    <div class="module-number">01</div>
                    <div class="module-content">
                        <h3>Setting Up Your Development Environment</h3>
                        <p>Configure Claude, Expo Go, and set up your project foundation</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">02</div>
                    <div class="module-content">
                        <h3>Setting Up a Claude Project</h3>
                        <p>Create your first Claude project and understand the basics</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">03</div>
                    <div class="module-content">
                        <h3>Testing Your App: From VSCode to Your Phone</h3>
                        <p>Run your first app and ensure your development environment works</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">04</div>
                    <div class="module-content">
                        <h3>Directing Claude: Creating Professional UI</h3>
                        <p>Learn how to guide Claude to design beautiful sleep tracking interfaces</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">05</div>
                    <div class="module-content">
                        <h3>Building Your App Structure</h3>
                        <p>Develop a robust app architecture using the screen-by-screen approach</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">06</div>
                    <div class="module-content">
                        <h3>Building Out Your App</h3>
                        <p>Implement features and create a complete, functional sleep application</p>
                    </div>
                </div>
                <div class="module">
                    <div class="module-number">07</div>
                    <div class="module-content">
                        <h3>Submitting to the App Store</h3>
                        <p>Navigate the process of publishing your app to reach users</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="pricing" id="pricing">
        <div class="container">
            <h2>Course Pricing</h2>
            <div class="price-card">
                <h3>Complete Course</h3>
                <div class="price">$99</div>
                <ul class="benefits">
                    <li>Full access to all 7 modules</li>
                    <li>Step-by-step video tutorials</li>
                    <li>Downloadable resources</li>
                    <li>Project templates</li>
                    <li>Lifetime access</li>
                </ul>
                <button class="cta-button large" onclick="window.location.href='checkout.html'">Enroll Now</button>
            </div>
        </div>
    </section>

    <section class="cta-section">
        <div class="container">
            <h2>Ready to Build Your First Sleep Technology App?</h2>
            <p>Join hundreds of students who have transformed their app ideas into reality</p>
            <button class="cta-button large" onclick="handleCourseAccess()">Start Learning Today</button>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="logo">SleepTech</div>
            <div class="footer-links">
                <div class="link-group">
                    <h4>Course</h4>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#curriculum">Curriculum</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                    </ul>
                </div>
                <div class="link-group">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Refund Policy</a></li>
                    </ul>
                </div>
                <div class="link-group">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:support@sleeptech.com">Email Support</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                ¬© 2025 SleepTech. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="scripts.js"></script>
    <script>
        // Handle login button click
        function handleLogin() {
            if (window.netlifyIdentity) {
                netlifyIdentity.open('login');
            } else {
                alert('Login system is not available. Please try again later.');
            }
        }
        
        // Handle "Start Learning Today" button
        function handleCourseAccess() {
            if (window.netlifyIdentity) {
                const user = netlifyIdentity.currentUser();
                
                if (user) {
                    // User is logged in, check if they have course access
                    const userMeta = user.user_metadata || {};
                    
                    if (userMeta.course_access === true) {
                        // User has access, send to first module
                        window.location.href = 'modules/module1.html';
                    } else {
                        // User is logged in but doesn't have course access
                        window.location.href = 'checkout.html';
                    }
                } else {
                    // User is not logged in
                    window.location.href = 'checkout.html';
                }
            } else {
                // Netlify Identity not available, just go to checkout
                window.location.href = 'checkout.html';
            }
        }
        
        // Handle Netlify Identity events
        document.addEventListener('DOMContentLoaded', function() {
            if (window.netlifyIdentity) {
                // Update login button text if user is logged in
                netlifyIdentity.on('init', user => {
                    if (user) {
                        document.getElementById('loginButton').textContent = 'My Account';
                    }
                });
                
                // Update on login
                netlifyIdentity.on('login', user => {
                    document.getElementById('loginButton').textContent = 'My Account';
                    
                    // See if user was in the middle of going to a course page
                    const intendedPage = sessionStorage.getItem('intendedPage');
                    if (intendedPage) {
                        sessionStorage.removeItem('intendedPage');
                        window.location.href = intendedPage;
                    }
                });
                
                // Update on logout
                netlifyIdentity.on('logout', () => {
                    document.getElementById('loginButton').textContent = 'Log in';
                });
            }
        });
    </script>
</body>
</html>
